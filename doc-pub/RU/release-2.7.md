# Release 2.7

## Release 2.7

Тип: Новая версия\
Версия: v2.7b46R\
Краткое описание: stable release от 21.06.2025 by krab-ubica

### Описание релиза

Релиз 2.7 посвящен:

* [Поддержка Unihertz Titan (расширенная)](https://4pda.to/forum/index.php?showtopic=958963\&view=findpost\&p=136872780)
* Исправление багов и рефакторинг кода
* Улучшение удобства некоторых функций
* Мощное углубление json-кастомизируемости

### Доработки/улучшения

* **REF** Легкий рефакторинг наэкранных клавиатур
* Всплывающие доп-буквы вынесены вверх для UHZ S|P
* Переработана настройка высоты свайп-панели
* Кнопки в свайп-панели во весь размер
* Флаг позиционируется относительно названия раскладки
* Стрелочки позиционируются по центру
* **FI4** Ctrl+Alt Вставка буфера обмена по буквам для обмана антивставочных скриптов на сайтах
* **FI4** Хождение по словам теперь проезжает пунктуацию автоматом
* **FI4** Доработка кликер-плагинов для приложений модов-клонов, которые меняют одну букву имени пакета, доработка телеграм-хака для клонов телеграм
* **FI4** Удерживание на наэкранной панели (нав и свайп) делает повтор ввода
* **\[BB K1|2]** **FI4** Добавил 0 (ноль) в наэкранную SYM клавиатуру
* **FI4** Активировал работу хард-кнопки DEL в NAV режиме
* **\[UHZ T]** Сделал костыль для Unihertz чтобы работал Ctrl+C когда выделение шло влево до упора

### Исправленные ошибки

* **BUG-FIX** Поправлена работа свайп-панели:
  * **\[UHZ S|P]** Свайп-панель теперь открывается при входе в режим редактирования без необходимости тапа в поле ввода
  * **\[BB K1|2]** Как выяснилось не работало как-то криво — то не убиралось, то не появлялось
* **BUG-FIX** Предыдущий toast о смене языка (если висит) заменяется новым. Это важно для интеграции с TLT (Text Layout Tools)
* **BUG-FIX** Не очищался массив key-down для single-press
* **BUG-FIX** При перемещении курсора через удерживание SYM не применялась автоматическая простановка заглавной буквы
* **BUG-FIX** Не озаглавливалась буква при Alt+Del
* **\[UHZ T]** Пофиксил чтобы паразитные v, x не вставлялись в TG когда делаешь Ctrl+V, Ctrl+X
* **\[UHZ ?]** Пофиксил сброс настроек

### Кастомизации

* **FI4** Переработка NAV механизма и вынесение его в JSON
* Добавлена поддержка Unihertz Titan и раскладки к нему (совместно с zynaps нашли даже как сделать и Ctrl и нав-режим)
* Добавлены латвийская/эстонская раскладки
* **FI4** Движок JavaScript для точечного патчинга json-ов
* **FI4** [JS патчи](https://4pda.to/forum/index.php?showtopic=1024645\&view=findpost\&p=137722519) теперь можно включать/выключать через меню расширенных настроек
  * Полезно, чтобы не накатывать каждый раз свои изменения когда разработчик меняет mechanics
  * Чтобы можно было пробовать на удобство изменения, которые сделали другие пользователи для себя
* **REF** Переделано хранение json файлов в исходниках приложения (файлы перенесены в Assets и разбиты по папкам)
* **FI4** В mechanics можно делать кастомизацию на отдельные кнопки (одну из группы)
  * В памяти настройки каждой кнопки из группы размножаются/копируются для каждой кнопки, поэтому изменения будут применяться только к той кнопке, в которой надо применить либо секции mechanics, либо js-patch
  * Это сильно расширяет возможности кастомизации приложения для кейсов, например, когда сломалась какая-то кнопка
